

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="es-es">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.56.3 with theme Tranquilpeak 0.4.3-BETA">
    <title>La nueva pipa</title>
    <meta name="author" content="Elio Campitelli">
    <meta name="keywords" content="tech, R">

    <link rel="icon" href="../../../favicon.png">
    

    
    <meta name="description" content="Este post quizás llega un poco tarde pero hace poco salió la versión 4.1.0 de R. Y si la versión 4.0.0 hizo noticia con el revolucionario cambio de stringAsFactors = FALSE, la gran novedad de esta siguiente versión es la implementación de una “pipa” nativa.
La nueva pipa La “pipa” (traducción no muy buena de “pipe” en inglés) es una de las principales distinciones del código que usa tidyverse / dplyr.">
    <meta property="og:description" content="Este post quizás llega un poco tarde pero hace poco salió la versión 4.1.0 de R. Y si la versión 4.0.0 hizo noticia con el revolucionario cambio de stringAsFactors = FALSE, la gran novedad de esta siguiente versión es la implementación de una “pipa” nativa.
La nueva pipa La “pipa” (traducción no muy buena de “pipe” en inglés) es una de las principales distinciones del código que usa tidyverse / dplyr.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="La nueva pipa">
    <meta property="og:url" content="/codigo-r/2021/05/r-pipa-nativa/">
    <meta property="og:site_name" content="Código R">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Código R">
    <meta name="twitter:description" content="Este post quizás llega un poco tarde pero hace poco salió la versión 4.1.0 de R. Y si la versión 4.0.0 hizo noticia con el revolucionario cambio de stringAsFactors = FALSE, la gran novedad de esta siguiente versión es la implementación de una “pipa” nativa.
La nueva pipa La “pipa” (traducción no muy buena de “pipe” en inglés) es una de las principales distinciones del código que usa tidyverse / dplyr.">
    
      <meta name="twitter:creator" content="@d_olivaw">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/2376976935665241d1fd5a1fb8124a81?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="../../../css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    
      
        <link rel="stylesheet"  href="../../../css/custom.css">
      
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="2">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="../../../">Código R</a>
  </div>
  
    
      <a class="header-right-picture "
         href="../../../#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/2376976935665241d1fd5a1fb8124a81?s=90" alt="Foto de autor" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="2">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="../../../#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/2376976935665241d1fd5a1fb8124a81?s=110" alt="Foto de autor" />
        </a>
        <h4 class="sidebar-profile-name">Elio Campitelli</h4>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Inicio</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categorías</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archivos</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">Acerca de</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/eliocamp">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.r-bloggers.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">R-Bloggers</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://twitter.com/d_olivaw">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="2"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      La nueva pipa
    </h1>
  
  

    
        In English: <a href="../../../en/2021/05/r-pipa-nativa/">The new R pipe</a>
    


  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2021-05-25T00:00:00Z">
        
  Mayo 25, 2021

      </time>
    
    
  
  
    <span>en</span>
    
      <a class="category-link" href="../../../categories/r">R</a>
    
  

  </div>

</div>



<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    });
    </script>
    <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              
<script src="../../../rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>Este post quizás llega un poco tarde pero hace poco salió la versión 4.1.0 de R.
Y si la versión 4.0.0 hizo noticia con el revolucionario cambio de <code>stringAsFactors = FALSE</code>, la gran novedad de esta siguiente versión es la implementación de una “pipa” nativa.</p>
<div id="la-nueva-pipa" class="section level2">
<h2>La nueva pipa</h2>
<p>La “pipa” (traducción no muy buena de “pipe” en inglés) es una de las principales distinciones del código que usa tidyverse / dplyr.
Seguro que alguna vez usaste o viste algo como</p>
<pre class="r"><code>library(dplyr) 

mtcars %&gt;%
   group_by(cyl) %&gt;% 
   summarise(mpg = mean(mpg)) </code></pre>
<pre><code>## # A tibble: 3 x 2
##     cyl   mpg
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     4  26.7
## 2     6  19.7
## 3     8  15.1</code></pre>
<p>Ese <code>%&gt;%</code> es el operador que permite encadenar una función tras otra sin necesidad de asignar variables a pasos intermedios.
Técnicamente lo que hace es evaluar la expresión de la derecha (o, más usualmente, la de abajo) usando como primer argumento la expresión de la izquierda (arriba).
El paquete dplyr depende del paquete <a href="https://magrittr.tidyverse.org/">magrittr</a> para hacer esa magia y muchos otros paquetes también importan la pipa de magrittr.</p>
<p>Con la versión 4.1.0, ahora es posible escribir</p>
<pre class="r"><code>mtcars |&gt;
   group_by(cyl) |&gt;
   summarise(mpg = mean(mpg))</code></pre>
<pre><code>## # A tibble: 3 x 2
##     cyl   mpg
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     4  26.7
## 2     6  19.7
## 3     8  15.1</code></pre>
<p>¿Cuál es la diferencia, aparte de un caracter menos?
(No que la cantidad de caracteres importe mucho si uno usa el atajo de RStudio Ctrl + Shift + M. Y con la nueva versión de RStudio <a href="https://web.archive.org/web/20210525152348/https://www.rstudio.com/products/rstudio/download/preview/">que ahora está en preview</a>, se puede elegir cuál usar.)</p>
<p>La principal, para mí, es que se puede usar la pipa sin depender del paquete magrittr.
Quizás esto no sea algo que te quite el sueño, pero como regla general siempre está bueno que tus análisis dependan de la menor cantidad de paquetes distintos, de manera que haya menos posibilidades de que alguno cambie algo importante y se rompa todo.</p>
<p>Para quienes usan dplyr (o quienes van por lo fácil y empiezan con <code>library(tidyverse)</code>) usar <code>|&gt;</code> o <code>%&gt;%</code> probablemente sea indistinto.
Pero hay todo un multiverso por fuera del tidyverso.
Yo, por ejemplo, prefiero data.table a dplyr y mi sintaxis preferida combina data.table con magrittr.
Con este cambio, ya no necesito empezar cada script con <code>library(magrittr)</code> (aunque ver [la siguiente sección]).</p>
<p>Para quienes tienen una (¿insana?) obsesión con la velocidad y la eficiencia, <code>|&gt;</code> <a href="https://michaelbarrowman.co.uk/post/the-new-base-pipe/">parecer ser más rápida</a> que <code>%&gt;%</code>.
Esto es porque magrittr hace un montón de cosas detrás de escena, mientras que la pipa nativa es solo una transformación de sintaxis.
En otras palabras,</p>
<pre class="r"><code>x %&gt;%
   mean()</code></pre>
<p>no es literalmente equivalente a <code>mean(x)</code>; hay un montón de procesamiento detrás de esos tres caracteres.
Mientas que</p>
<pre class="r"><code>x |&gt; 
   mean()</code></pre>
<p>Es interpretado por R exactamente como <code>mean(x)</code>.
Es decir, hay cero “overhead” por usar <code>|&gt;</code>.</p>
<p>Pero la realidad es que salvo casos especiales, la diferencia es despreciable.
En cualquier análisis de datos que valga la pena, el overhead de usar magrittr es minúsculo en comparación con el tiempo que toma hacer (¡y escribir!) el resto de los cómputos.
Mi consejo es no prestarle demasiada atención a diferencias del orden del microsegundo.</p>
<p>Lo que sí hay que prestarle atención es a las diferencias sutiles (o no tanto) entre ambas pipas.
La más jodida de todas es que la pipa de magrittr tiene una forma de usar un “placeholder” para cuando uno no quiere que el resultado de la parte izquierda vaya al <em>primer</em> argumento de la expresión de la derecha.
El ejemplo canónico es el modelo lineal:</p>
<pre class="r"><code>mtcars %&gt;% 
   lm(mpg ~ disp, data = .)</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ disp, data = .)
## 
## Coefficients:
## (Intercept)         disp  
##    29.59985     -0.04122</code></pre>
<p>Como el primer argumento de <code>lm()</code> no son los datos, hay que usar <code>data = .</code> para decirle a magrittr que <code>mtcars</code> no tiene que ser el primer argumento de <code>lm()</code>.
La pipa nativa por ahora <strong>no tiene placeholder</strong>.
La forma para solucionar eso es creando una función anónima:</p>
<pre class="r"><code>mtcars |&gt; 
   (function(x) lm(mpg ~ cyl, data = x))()</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ cyl, data = x)
## 
## Coefficients:
## (Intercept)          cyl  
##      37.885       -2.876</code></pre>
<p>Esto es bastante feito, por lo que la propuesta de R es usar otro truco de R 4.1.0: la nueva sintaxis para crear funciones.
A partir de R 4.1.0 estas dos expresiones son equivalentes:</p>
<pre class="r"><code>function(x) x + 1 
\(x) x + 1</code></pre>
<p>La nueva sintaxis del monigote saludando ( <code>\(x)</code>) esencialmente ahorra caracteres a la hora de crear funciones.
Por lo que combinando esto con la pipa nativa, se puede hacer</p>
<pre class="r"><code>mtcars |&gt; 
   (\(x) lm(mpg ~ disp, data = x))()</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ disp, data = x)
## 
## Coefficients:
## (Intercept)         disp  
##    29.59985     -0.04122</code></pre>
<p>que es marginalmente más legible, aunque aún todavía bastante feo.
La sintaxis alternativa, que creo que por ahora está en veremos, es esta:</p>
<pre class="r"><code>Sys.setenv(`_R_USE_PIPEBIND_` = TRUE) 

mtcars |&gt; 
   . =&gt; lm(mpg ~ disp, data = .)</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ disp, data = mtcars)
## 
## Coefficients:
## (Intercept)         disp  
##    29.59985     -0.04122</code></pre>
<p>(Donde la primera línea es indispensable.)</p>
<p>Como se ve, primero se establece dice cuál es símbolo “placeholder” (en este caso <code>.</code>) y luego del <code>=&gt;</code>, se puede escribir el mismo código que usaría en la pipa de magrittr.
En resumen, para los casos donde se usa el <code>.</code> de placeholder, el reemplazo de <code>%&gt;%</code> sería <code>|&gt; . =&gt;</code>.
(Aunque, de nuevo, entiendo que esta sintaxis no es definitiva ni oficial.)</p>
</div>
<div id="y-data.table" class="section level2">
<h2>¿Y data.table?</h2>
<p>Lo cual me lleva a mi amada sintaxis de data.table + magrittr:</p>
<pre class="r"><code>mtcars &lt;- data.table::as.data.table(mtcars)
mtcars %&gt;% 
   .[, .(mpg = mean(mpg)), by = cyl]</code></pre>
<pre><code>##    cyl      mpg
## 1:   6 19.74286
## 2:   4 26.66364
## 3:   8 15.10000</code></pre>
<p>Dado que el punto que está al principio de la primera línea no es nada menos que el placeholder de magrittr y que la nueva pipa no tiene placeholder, está más que claro que esta sintaxis no va a funcionar simplemente cambiando <code>%&gt;%</code> por <code>|&gt;</code>.
También hay algunas limitaciones, como que la nueva pipa no acepta “símbolos especiales” como <code>[</code>, <code>+</code> o <code>*</code> en la expresión derecha.</p>
<p>En vista de lo anterior, uno pensaría que el cambio sería agregar <code>|&gt; . =&gt;</code> , pero no:</p>
<pre class="r"><code>mtcars |&gt; 
   . =&gt; .[, .(mpg = mean(mpg)), by = cyl]</code></pre>
<pre><code>## Error: function &#39;[&#39; not supported in RHS call of a pipe</code></pre>
<p>Ah, aparece la limitación de esos símbolos especiales.
¿Y ahora?</p>
<p>El truco es que R sólo se fija en el nombre de la función, así que lo único que hay que hacer es renombrar la función <code>[</code> (amo que en R todo sea una función).
Por ejemplo, este código es perfectamente funcional:</p>
<pre class="r"><code>.d &lt;- `[` 

mtcars |&gt; 
   .d(, .(mpg = mean(mpg)), by = cyl) </code></pre>
<pre><code>##    cyl      mpg
## 1:   6 19.74286
## 2:   4 26.66364
## 3:   8 15.10000</code></pre>
<p>Lo cual no es tan malo.</p>
</div>
<div id="larga-vida-a-magrittr" class="section level2">
<h2>Larga vida a magrittr</h2>
<p>Entonces, ¿tengo que desechar a <code>%&gt;%</code> y amar a <code>|&gt;</code>?
Y… no necesariamente.</p>
<p>R 4.1.0 salió hace un par de semanas y es muy probable que la mayor parte de la gente no haya actualizado ni tenga planes de actualizar pronto.
En ambientes corporativos o en servidores, muchas personas que usan R probablemente ni siquiera tengan control sobre la versión que tienen y quienes lo administran sean bastante reticentes de actualizar.
Código “en producción” corriendo en versiones específicas de R en pos de estabilidad y reproducibilidad probablemente tarden años en actualizarse, si es que se actualizan.</p>
<p>Por todo esto, si bien el reinado de magrittr ya tiene los días contados, todavía está lejos de terminar.</p>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2021/07/wrapper-stop/" data-tooltip="Cómo maniuplar mensajes de error">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">SIGUIENTE</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2021/03/star-trek-rakings/" data-tooltip="Analizando ratings de Star Trek en IMDB">
              
                  <span class="hide-xs hide-sm text-small icon-mr">ANTERIOR</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2021/05/r-pipa-nativa/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2021/05/r-pipa-nativa/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2021/05/r-pipa-nativa/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 Elio Campitelli. Todos los derechos reservados
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2021/07/wrapper-stop/" data-tooltip="Cómo maniuplar mensajes de error">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">SIGUIENTE</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2021/03/star-trek-rakings/" data-tooltip="Analizando ratings de Star Trek en IMDB">
              
                  <span class="hide-xs hide-sm text-small icon-mr">ANTERIOR</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2021/05/r-pipa-nativa/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2021/05/r-pipa-nativa/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2021/05/r-pipa-nativa/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="2">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2021%2F05%2Fr-pipa-nativa%2F">
          <i class="fa fa-facebook-official"></i><span>Compartir en Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2021%2F05%2Fr-pipa-nativa%2F">
          <i class="fa fa-twitter"></i><span>Compartir en Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2021%2F05%2Fr-pipa-nativa%2F">
          <i class="fa fa-google-plus"></i><span>Compartir en Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/2376976935665241d1fd5a1fb8124a81?s=110" alt="Foto de autor" />
    
    <h4 id="about-card-name">Elio Campitelli</h4>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Atmospheric sciences graduate researcher at CONICET
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Argentina
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Buscar" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no se encontraron artículos</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2022/07/plumber-heroku/">
                <h3 class="media-heading">Como crear una API con plumber y hostearla en Heroku</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2022
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Uno de los subproductos de mi tesis de doctorado es la descomposición del índice del SAM (un indicador del estado de la atmósfera muy usado y monitoreado) en dos partes que tienen distintas propiedades e impactos.
Como investigadore, yo sé que para para que un índice de adopte, éste tiene que ser fácil de descargar de manera actualizada. Por esto es que estoy armando una página con gráficos y acceso a los datos actualizados mensualmente.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2021/07/wrapper-stop/">
                <h3 class="media-heading">Cómo maniuplar mensajes de error</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">La función stop() permite terminar la ejecución de una función si hay algún problema mortal.
Por ejemplo, imaginemos este código que calcula la raziz cuadrada de un número pero sólo si el número de entrada es positivo.
raiz_real &lt;- function(x) { if (x &lt; 0) { stop(&quot;&#39;x&#39; no puede ser negativo.&quot;) } sqrt(x) } raiz_real(2) ## [1] 1.414214 raiz_real(-2) ## Error in raiz_real(-2): &#39;x&#39; no puede ser negativo. Si x es negativo, la función tira un error.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2021/05/r-pipa-nativa/">
                <h3 class="media-heading">La nueva pipa</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Este post quizás llega un poco tarde pero hace poco salió la versión 4.1.0 de R. Y si la versión 4.0.0 hizo noticia con el revolucionario cambio de stringAsFactors = FALSE, la gran novedad de esta siguiente versión es la implementación de una “pipa” nativa.
La nueva pipa La “pipa” (traducción no muy buena de “pipe” en inglés) es una de las principales distinciones del código que usa tidyverse / dplyr.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2021/03/star-trek-rakings/">
                <h3 class="media-heading">Analizando ratings de Star Trek en IMDB</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Con mi novia estamos viendo Star Trek: The Next Generation. La primera temporada es bastante mala, pero luego remonta. Me dio curiosidad si los ratings mostraban eso. Entonces empecé a bajar los ratings de cada capítulo en IMDB. En el medio, me encontré que IMDB provee ratings promedio por demografía, así que decidí también bajar eso.
Y ya que estamos, bajé también los ratings de las otras series de Star Trek.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/12/rammbot-un-bot-que-crea-canciones-de-rammstein/">
                <h3 class="media-heading">Obligué a un bot a escuchar más de 1000 horas de Rammstein y le pedí que escribiera una canción propia.</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Cuando le conté a una amiga que había analizado las letras de Rammstein y Lacrimosa, me tiró la idea de usar un modelo para crear letras de las bandas. Me pareció una idea divertida, así que acá tienen el futuro de la música:
library(data.table) library(magrittr) Igual que hice antes, bajo las letras de losdiscos de estudio de cada artista. Guardo las cosas en un archivo para no tener que bajar los datos cada vez que corro esto.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/11/rammstein-vs-lacrimosa/">
                <h3 class="media-heading">Rammstein vs. Lacrimosa</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Hace un tiempo una conocida twiteó que había tenido que comprarse un libro entero para aprender los géneros gramaticales del alemán. Entre las repuestas, había una persona que contaba que de adolescente creyó (erróneamente) que podría aprender alemán sólo escuchando Rammstein. Habeindo estudiado unos drei Jahre de alemán al mismo tiempo que escuchaba Rammstein y otras bandas en alemán, las letras de Rammstein siempre me parecieron extremadamente simples.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/10/lo-que-aprend%C3%AD-en-latinr-2019/">
                <h3 class="media-heading">Lo que aprendí en LatinR 2019</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Hace unas semanas volví de Santiago de Chile luego de ir a Latinr 2019. Igual que el año pasado, fue una experiencia divertida. Estas son algunas de las cosas que me llamaron la atención.
Workshops A la mañana del primer día asistí al workshop de Mine Çetinkaya-Rundel sobre enseñanza de R. Ejemplificó algunos principios básicos a la hora de diseñar clases. La idea de “dejales comer el pastel primero” creo que es la principal enseñanza.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/04/ecmwfr-calentamiento-global/">
                <h3 class="media-heading">Midiendo el calentamiento global con ecmwfr</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Para mi investigación necesitaba bajar datos meteorológicos grillados del ERA-Interim, que es una base de datos generada por el ECMWF. Bajar los datos en su sitio web es muy incómido y requiere muchos clicks. Por suerte, me encontré con el paquete ecmwfr con el que pude bajar los datos directamente desde R y muy fácilmente. Una de las cosas geniales del código abierto, es que los usuarios pueden ser colaboradores, así que sugerí algunas cosas y aporté un poco de código.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/01/metamerismo-estad%C3%ADstico/">
                <h3 class="media-heading">Metamerismo estadístico</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">El paquete <a href="https://github.com/eliocamp/metamer">metamer</a> implementa en R el algoritmo descripto por Matejka y Fitzmaurice (2017) para generar sets de datos distintos entre sí pero con estadísticos idénticos. Además, propongo el nombre &ldquo;metámeros&rdquo; para estos grupos de datos en analogía con el concepto proveniente de colorimetría.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2018/10/leyendo-informacion-incucai/">
                <h3 class="media-heading">Leyendo información del INCUCAI</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2018
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">El otro día el diario Clarín sacó una nota afirmando que el pasado agosto se había dado el récord histórico de transplantes de órganos y se lo adjudicaba a la &ldquo;Ley Justina&rdquo;, que establece que todos somos donantes presuntos a menos que se declare lo contrario en vida. Dado que esta ley se aprobó hace poco más de un mes y todavía no está reglamentada, es poco probable que este récord se deba al cambio legal.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no se encontraron artículos"
         data-message-one="1 artículo encontrado"
         data-message-other="{n} artículos encontrados">
         23 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://github.com/eliocamp/codigo-r/raw/master/static/images/cover2.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js" integrity="sha256-XrZQp+ZMfovqr6Hb2M6okHvSEYaB/+Xbx7toWmOOZUM=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-light.min.css" integrity="sha256-KacbO6Nou2geGJEUzQeKzKEdp/DENVGJKAd2v37moh0=" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="../../../js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2021\/05\/r-pipa-nativa\/';
          
            this.page.identifier = '\/2021\/05\/r-pipa-nativa\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'codigo-r';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

