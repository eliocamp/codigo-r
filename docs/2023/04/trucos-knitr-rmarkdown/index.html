

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="es-es">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.56.3 with theme Tranquilpeak 0.4.3-BETA">
    <title>11 trucos para mejorar tus documentos de rmarkdown</title>
    <meta name="author" content="Elio Campitelli">
    <meta name="keywords" content="reproducibilidad, knitr, rmarkdown, R">

    <link rel="icon" href="../../../favicon.png">
    

    
    <meta name="description" content="Hace tiempo que quería escribir un post con una lista de algunos de los trucos de rmarkdown que fui aprendiendo a lo largo de los años. También quería oír consejos de otras personas, así que pregunté en Mastodon. En fin, acá les presento los 11 trucos que decidí incluir sin ningún orden definido.
Hacer obligatorias algunas opciones de bloque A veces uso este truco para obligarme a escribir epígrafes en todas las figuras.">
    <meta property="og:description" content="Hace tiempo que quería escribir un post con una lista de algunos de los trucos de rmarkdown que fui aprendiendo a lo largo de los años. También quería oír consejos de otras personas, así que pregunté en Mastodon. En fin, acá les presento los 11 trucos que decidí incluir sin ningún orden definido.
Hacer obligatorias algunas opciones de bloque A veces uso este truco para obligarme a escribir epígrafes en todas las figuras.">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="11 trucos para mejorar tus documentos de rmarkdown">
    <meta property="og:url" content="/codigo-r/2023/04/trucos-knitr-rmarkdown/">
    <meta property="og:site_name" content="Código R">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Código R">
    <meta name="twitter:description" content="Hace tiempo que quería escribir un post con una lista de algunos de los trucos de rmarkdown que fui aprendiendo a lo largo de los años. También quería oír consejos de otras personas, así que pregunté en Mastodon. En fin, acá les presento los 11 trucos que decidí incluir sin ningún orden definido.
Hacer obligatorias algunas opciones de bloque A veces uso este truco para obligarme a escribir epígrafes en todas las figuras.">
    
      <meta name="twitter:creator" content="@d_olivaw">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/2376976935665241d1fd5a1fb8124a81?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="../../../css/style-jsjn0006wyhpyzivf6yceb31gvpjatbcs3qzjvlumobfnugccvobqwxnnaj8.min.css" />
    
    
      
        <link rel="stylesheet"  href="../../../css/custom.css">
      
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="2">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="../../../">Código R</a>
  </div>
  
    
      <a class="header-right-picture "
         href="../../../#about">
    
    
    
      
        <img class="header-picture" src="//www.gravatar.com/avatar/2376976935665241d1fd5a1fb8124a81?s=90" alt="Foto de autor" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="2">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="../../../#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/2376976935665241d1fd5a1fb8124a81?s=110" alt="Foto de autor" />
        </a>
        <h4 class="sidebar-profile-name">Elio Campitelli</h4>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Inicio</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categorías</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archivos</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">Acerca de</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/eliocamp">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.r-bloggers.com/">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">R-Bloggers</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="http://twitter.com/d_olivaw">
    
      <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
      
      <span class="sidebar-button-desc">Twitter</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="../../../index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="2"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      11 trucos para mejorar tus documentos de rmarkdown
    </h1>
  
  

    
        In English: <a href="../../../en/2023/04/knitr-rmarkdown-tricks/">11 tricks to level up your rmarkdown documents</a>
    


  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2023-04-16T00:00:00Z">
        
  Abril 16, 2023

      </time>
    
    
  
  
    <span>en</span>
    
      <a class="category-link" href="../../../categories/r">R</a>
    
  

  </div>

</div>



<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    });
    </script>
    <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              


<p>Hace tiempo que quería escribir un post con una lista de algunos de los trucos de rmarkdown que fui aprendiendo a lo largo de los años.
También quería oír consejos de otras personas, así <a href="https://mastodon.social/@eliocamp/110192939201292092">que pregunté en Mastodon</a>.
En fin, acá les presento los 11 trucos que decidí incluir sin ningún orden definido.</p>
<div id="hacer-obligatorias-algunas-opciones-de-bloque" class="section level2">
<h2>Hacer obligatorias algunas opciones de bloque</h2>
<p>A veces uso este truco para obligarme a escribir epígrafes en todas las figuras.</p>
<pre class="r"><code>knit_plot &lt;- knitr::knit_hooks$get(&quot;plot&quot;)

knitr::knit_hooks$set(plot = function(x, options) {
   if (is.null(options$fig.cap)) {
    stop(&quot;¡Escribí un epígrafe para todas las figuras!&quot;)  
   }
   knit_plot(x, options)
})</code></pre>
<p>Este “<a href="https://yihui.org/knitr/hooks/">hook</a>” corre una vez por cada bloque que produce un gráfico y salta con un error si la opción <code>fig.cap</code> es <code>NULL</code> (o sea, que no existe).
Si esto no te obliga a remangarte y escribir epígrafes en todas tus figuras, nada lo hará.
(Gracias a Zhian N Kamvar <a href="https://phanpy.social/#/mastodon.social/s/110260724284838610">por encontrar un problema</a> en la versión anterior de este código).</p>
<p>También inspirado por <a href="https://fosstodon.org/@zkamvar/110188164791881811">Zhian N Kamvar</a>, ahora uso esto para obligarme a ponerle nombre a todos mis bloques:</p>
<pre class="r"><code>knitr::opts_hooks$set(label = function(options) {
  # Fijarse si la etiqueta viene de la etiqueta por defecto
  default_label &lt;- knitr::opts_knit$get(&quot;unnamed.chunk.label&quot;)
  has_default_label &lt;- grepl(default_label, options$label)
  
  if (has_default_label) {
    stop(&quot;¡Ponele nombre a los bloques!&quot;)
  }
  return(options)
})</code></pre>
<p>Este código no puede fijarse si <code>is.NULL(options$label)</code> porque los bloques sin nombre son nombrados con una etiqueta por defecto.
Entonces se fija cuál es esta etiqueta por defecto con <code>knitr::opts_knit$get("unnamed.chunk.label")</code> y luego se fija si el nombre del bloque fue generado automáticamente.
Esto no sirve en el caso totalmente ridículo de un bloque con un nombre que, de casualidad, es igual que la etiqueta por defecto.</p>
<p>Estos principios se pueden extender a cualquier otra opción.
El único problema es que el error salta a penas knitr encuentra un caso problemático.
Sería mejor registrar todos esos casos y luego tirar el error al final.</p>
</div>
<div id="epígrafes-usando-referencias-textuales" class="section level2">
<h2>Epígrafes usando referencias textuales</h2>
<p>Un buen epígrafe suele ser largo e incluso tener cosas complicadas como código de <span class="math inline">\(\LaTeX\)</span> o referencias a figuras anteriores (tipo “Igual que la Figura 2 pero para payasos con narices rojas”).
Estos epígrafes son difíciles de entender cuando están apretados en las opciones del bloque y necesitan muchos caracteres de escape.
La solución de Bookdown es usar referencias textuales (<a href="https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html#text-references">text references</a>).</p>
<p>Si una línea de texto empieza con <code>(ref:etiqueta)</code>, luego <code>(ref:etiqueta)</code> va a ser reemplazado por ese texto en otro lado.
Entonces se puede escribir</p>
<pre><code>(ref:nariz-roja-cap) Igual que la Figura \@ref(fig:nariz-azul) pero para payasos con narices *rojas*. Y acá tenés una fórmula matemática para mostrar que funciona: $\pi=3$.</code></pre>
<p>Y luego escribir el bloque de código así:</p>
<pre class="default"><code>```{r, fig.cap = &quot;(ref:nariz-roja-cap)&quot;}
plot(nariz_roja)
```</code></pre>
</div>
<div id="epígrafe-por-defecto" class="section level2">
<h2>Epígrafe por defecto</h2>
<p>Al usar referencias textuales, une termina teniendo que poner <code>fig.cap = "(ref:etiqueta")</code> en todos los bloques, y es bastante molesto.
En vez de eso, lo que suelo hacer es hacer que la opción <code>fig.cap</code> tenga un valor por defecto de la forma <code>(ref:etiqueta-cap)</code>:</p>
<pre class="r"><code>knitr::opts_hooks$set(label = function(options) {
  if (is.null(options$fig.cap)) {
    options$fig.cap &lt;- paste0(&quot;(ref:&quot;, options$label, &quot;-cap)&quot;)
  }
})</code></pre>
<p>Así, todos los bloques tienen un epígrafe asociada a una referencia con un nombre predecible.</p>
</div>
<div id="guardar-figuras-en-múltiples-formatos" class="section level2">
<h2>Guardar figuras en múltiples formatos</h2>
<p>¿Sabías que la opción <code>dev</code> puede ser un vector?
Esto permite guardar figuras en más de un formato al mismo tiempo.</p>
<pre class="r"><code>knitr::opts_chunk$set(dev = c(&#39;png&#39;, &#39;svg&#39;))</code></pre>
<p>Esta funcionalidad (sugerida por <a href="https://mastodon.social/@rmflight/110193102637427843">Robert Flight</a>) es simple, posiblemente desconocida pero también muy útil, ya que te permite usar formatos vectoriales en el documento pero tener versiones raster para compartirlas más fácil.</p>
</div>
<div id="terminar-de-knitear-antes-del-final" class="section level2">
<h2>Terminar de knitear antes del final</h2>
<p>A medida que un documento se hace más largo y complicado, crece la certeza de que van a aparecer errores estrafalarios y difíciles de debugear.
También puede que quieras pulir alguna parte inicial del documento aún cuando hay código roto más adelantes.
<a href="https://mastodon.social/@MickaelCanouil@fosstodon.org/110192950640461658">Mickaël CANOUIL</a> y <a href="https://mastodon.social/@superboreen/110192967243702258">superboreen</a> comentaron que se puede usar <code>knitr::knit_exit()</code> para que knitr deje de renderizar un documento “antes de que llegue al horripilante código que todavía no arreglé”.</p>
<pre class="r"><code>knitr::knit_exit()</code></pre>
</div>
<div id="obtener-el-formato-de-salida" class="section level2">
<h2>Obtener el formato de salida</h2>
<p>Si bien la promesa de rmardown es que el mismo código se puede renderizar a cualquier formato de salida, pero las <a href="https://en.wikipedia.org/wiki/Leaky_abstraction">abstracciones son coladores</a> y esta promesa no siempre se cumple.
Por ejemplo, no encontré ningún paquete para generar tablas que genere buenas tablas de LaTeX, HTML y Word sin tener que cambiar el código.
En cualquier caso, a veces el código tiene que saber el formato de salida del documento.</p>
<p>La función <code>knitr::pandoc_to()</code> de vuelve el “destino final” del documento, que puede ser “latex”, “html” or “docx”.</p>
<pre class="r"><code>knitr::pandoc_to()</code></pre>
<p>También puede devolver un valor lógico indicando si el formato de salida es alguno de los especificados como argumento.
Esto permite crear código que corre sólo en algunos formatos:</p>
<pre class="r"><code>if (knitr::pandoc_to(&quot;docx&quot;)) {
   # Hacer algo sólo si el formato es docx.
}</code></pre>
<p>Ojo que <code>knitr::pandoc_to()</code> devuelve <code>NULL</code> cuando se lo corre en una sesión de R interactiva, así que deberías considerar ese caso.</p>
<p>Otras funciones relacionadas son <code>is_latex_output()</code> y <code>is_html_output()</code>.</p>
</div>
<div id="configurar-la-ubicación-de-la-caché" class="section level2">
<h2>Configurar la ubicación de la caché</h2>
<p>Mis documentos muchas veces tienen código que tarda bastante en correr, así que uso mucho la caché y a veces necesito controlar <strong>dónde</strong> se guarda.
Esto se puede lograr con <code>knitr::opts_chunk$set(cache.path = direccion)</code>.</p>
<p>Esta es una posible solución cuando une renderiza más de un formato.
Me di cuenta que cambiar el formato invalida la caché, por lo que termina no sirviendo.
Entonces lo que hago es configurar una ubicación para cada formato:</p>
<pre class="r"><code>formato &lt;- knitr::pandoc_to()

knitr::opts_chunk$set(
  cache.path = file.path(&quot;cache&quot;, formato, &quot;&quot;)  # El último &quot;&quot; es necesario
)</code></pre>
</div>
<div id="obtener-el-archivo-actual" class="section level2">
<h2>Obtener el archivo actual</h2>
<p>La función <code>knitr::current_input()</code> devuelve el archivo de entrada que está siendo renderizado.
Hay un montón de casos donde esto puede servir pero yo lo uso, nuevamente, para controlar la ubicación de la caché y las figuras.</p>
<p>En un documento de bookdown, me gusta que cada capítulo tenga su propia carpeta con caché y figuras, así que pongo esto en mi bloque de setup:</p>
<pre class="r"><code>formato &lt;- knitr::pandoc_to() 
capitulo &lt;- tools::file_path_sans_ext(knitr::current_input())

knitr::opts_chunk$set(
  fig.path   = file.path(&quot;figures&quot;, capitulo, &quot;&quot;),
  cache.path = file.path(&quot;cache&quot;, capitulo, formato, &quot;&quot;)
)</code></pre>
</div>
<div id="invalidar-la-caché-rápidamente" class="section level2">
<h2>Invalidar la caché rápidamente</h2>
<p>Siguiendo con el tema de caché, a veces es necesario renderizar todo el documento de cero sin usarla.
Ya sea para una última corrida que se asegure de que todo el código anda bien o para resolver problemas que une sospecha que pueden estar relacionados con la caché.</p>
<p>Casi siempre uso la opción <code>cache.extra</code>, la cual invalida la caché cada vez que cambia.</p>
<pre class="r"><code>knitr::opts_chunk$set(cache.extra = 42)  # Cambiá el nombre para invalidar la caché</code></pre>
</div>
<div id="ejecutar-código-luego-de-knitear" class="section level2">
<h2>Ejecutar código luego de knitear</h2>
<p>Knitr ejecuta un hook llamado “document” al terminar de knitear.
Este hook se puede personalizar para hacer lo que une queria:</p>
<pre class="r"><code># Primero guardar el hook por defecto
knit_doc &lt;- knitr::knit_hooks$get(&quot;document&quot;)

knitr::knit_hooks$set(document = function(x) {
   # Hacer cualquier cosa
   knit_doc(x)  # Luego hacer lo qeu knitr iba a hacer
})</code></pre>
<p>Por ejemplo, a veces agrego esto para obtener una notidifación de escritorio cuando mi computadora termina de knitear:</p>
<pre class="r"><code># Esto necesita la utilidad notify-send.
# https://manpages.ubuntu.com/manpages/bionic/man1/notify-send.1.html
notify &lt;- function(title = &quot;title&quot;, text = NULL, time = 2) {
   time &lt;- time*1000
   system(paste0(&#39;notify-send &quot;&#39;, title, &#39;&quot; &quot;&#39;, text, &#39;&quot; -t &#39;, time, &#39; -a rstudio&#39;))
}


start_time &lt;- unclass(Sys.time())
min_time &lt;- 5*3600  # Sólo notificar el código que toma más de 5 minutos

knit_doc &lt;- knitr::knit_hooks$get(&quot;document&quot;)
knitr::knit_hooks$set(document = function(x) {
   
   took &lt;- unclass(Sys.time()) - start_time
   if (took &gt;= min_time) {
      notify(&quot;¡Terminé de knitear!&quot;, 
             paste0(&quot;Tardó &quot;, round(took), &quot; segundos&quot;),
             time = 5)
   }  
   
   
   knit_doc(x)
})</code></pre>
<p>Esto mismo se puede usar para enviar notificaciones en el teléfono con <a href="https://eddelbuettel.github.io/rpushbullet/">RPushbullet</a> o mandar mails con <a href="https://datawookie.github.io/emayili/">emayili</a>.
También está bueno el paquete <a href="https://github.com/gaborcsardi/notifier">notifier</a>.</p>
</div>
<div id="convertir-scripts-a-y-desde-rmarkdown" class="section level2">
<h2>Convertir scripts a y desde RMarkdown</h2>
<p>Por último, <a href="https://mastodon.social/@katieontheridge@fosstodon.org/110194745010839834">Katie</a> resaltó la función <code>knitr::spin()</code>, la cual convierte un script de R con un formato especial a un archivo de RMarkdown.
El flujo opuesto se consigue con la función <code>knitr::purl()</code>, usada por <a href="https://mastodon.social/@nxskok@mastodon.cloud/110194991404418910">Ken Butler</a>.</p>
<p><img src="../../../post/truzazo.jpg" alt="Captura de Los Simpsons cuando Moe le pega un codazo a Ned y le dice &#39;Que trucazo, no?&#39;" /></p>
</div>

              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">SIGUIENTE</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2023/04/livecode-ngrok-r/" data-tooltip="Como compartir tu código en tiempo real con livecode y ngrok">
              
                  <span class="hide-xs hide-sm text-small icon-mr">ANTERIOR</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2023/04/trucos-knitr-rmarkdown/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2023/04/trucos-knitr-rmarkdown/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2023/04/trucos-knitr-rmarkdown/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread">
  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 Elio Campitelli. Todos los derechos reservados
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="2">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--disabled">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">SIGUIENTE</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="../../../2023/04/livecode-ngrok-r/" data-tooltip="Como compartir tu código en tiempo real con livecode y ngrok">
              
                  <span class="hide-xs hide-sm text-small icon-mr">ANTERIOR</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2023/04/trucos-knitr-rmarkdown/">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2023/04/trucos-knitr-rmarkdown/">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2023/04/trucos-knitr-rmarkdown/">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="2">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=%2F2023%2F04%2Ftrucos-knitr-rmarkdown%2F">
          <i class="fa fa-facebook-official"></i><span>Compartir en Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=%2F2023%2F04%2Ftrucos-knitr-rmarkdown%2F">
          <i class="fa fa-twitter"></i><span>Compartir en Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=%2F2023%2F04%2Ftrucos-knitr-rmarkdown%2F">
          <i class="fa fa-google-plus"></i><span>Compartir en Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/2376976935665241d1fd5a1fb8124a81?s=110" alt="Foto de autor" />
    
    <h4 id="about-card-name">Elio Campitelli</h4>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Atmospheric sciences graduate researcher at CONICET
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Argentina
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="Buscar" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center">no se encontraron artículos</div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2023/04/trucos-knitr-rmarkdown/">
                <h3 class="media-heading">11 trucos para mejorar tus documentos de rmarkdown</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2023
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Hace tiempo que quería escribir un post con una lista de algunos de los trucos de rmarkdown que fui aprendiendo a lo largo de los años. También quería oír consejos de otras personas, así que pregunté en Mastodon. En fin, acá les presento los 11 trucos que decidí incluir sin ningún orden definido.
Hacer obligatorias algunas opciones de bloque A veces uso este truco para obligarme a escribir epígrafes en todas las figuras.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2023/04/livecode-ngrok-r/">
                <h3 class="media-heading">Como compartir tu código en tiempo real con livecode y ngrok</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2023
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Una de las cosas que aprendí de The Carpentries que más me gustan es codear en vivo. Además de obligarme a ir más despacio y permitir que mis estudiantes vean mis errores, simplemente me resulta mucho más divertido que leer diapositivas o ir siguiendo un script ya escrito.
Pero en cuanto empecé a hacer codeo en vivo me encontré con algunos problemas. Durante las clases era muy común que algune estudiante parara la clase para decir que el código no le funcionaba.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2022/07/plumber-heroku/">
                <h3 class="media-heading">Como crear una API con plumber y hostearla en Heroku</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2022
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Uno de los subproductos de mi tesis de doctorado es la descomposición del índice del SAM (un indicador del estado de la atmósfera muy usado y monitoreado) en dos partes que tienen distintas propiedades e impactos.
Como investigadore, yo sé que para para que un índice de adopte, éste tiene que ser fácil de descargar de manera actualizada. Por esto es que estoy armando una página con gráficos y acceso a los datos actualizados mensualmente.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2021/07/wrapper-stop/">
                <h3 class="media-heading">Cómo manipular mensajes de error</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jul 7, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">La función stop() permite terminar la ejecución de una función si hay algún problema mortal.
Por ejemplo, imaginemos este código que calcula la raziz cuadrada de un número pero sólo si el número de entrada es positivo.
raiz_real &lt;- function(x) { if (x &lt; 0) { stop(&quot;&#39;x&#39; no puede ser negativo.&quot;) } sqrt(x) } raiz_real(2) ## [1] 1.414214 raiz_real(-2) ## Error in raiz_real(-2): &#39;x&#39; no puede ser negativo. Si x es negativo, la función tira un error.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2021/05/r-pipa-nativa/">
                <h3 class="media-heading">La nueva pipa</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  May 5, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Este post quizás llega un poco tarde pero hace poco salió la versión 4.1.0 de R. Y si la versión 4.0.0 hizo noticia con el revolucionario cambio de stringAsFactors = FALSE, la gran novedad de esta siguiente versión es la implementación de una “pipa” nativa.
La nueva pipa La “pipa” (traducción no muy buena de “pipe” en inglés) es una de las principales distinciones del código que usa tidyverse / dplyr.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2021/03/star-trek-rakings/">
                <h3 class="media-heading">Analizando ratings de Star Trek en IMDB</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Mar 3, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Con mi novia estamos viendo Star Trek: The Next Generation. La primera temporada es bastante mala, pero luego remonta. Me dio curiosidad si los ratings mostraban eso. Entonces empecé a bajar los ratings de cada capítulo en IMDB. En el medio, me encontré que IMDB provee ratings promedio por demografía, así que decidí también bajar eso.
Y ya que estamos, bajé también los ratings de las otras series de Star Trek.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/12/rammbot-un-bot-que-crea-canciones-de-rammstein/">
                <h3 class="media-heading">Obligué a un bot a escuchar más de 1000 horas de Rammstein y le pedí que escribiera una canción propia.</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Cuando le conté a una amiga que había analizado las letras de Rammstein y Lacrimosa, me tiró la idea de usar un modelo para crear letras de las bandas. Me pareció una idea divertida, así que acá tienen el futuro de la música:
library(data.table) library(magrittr) Igual que hice antes, bajo las letras de losdiscos de estudio de cada artista. Guardo las cosas en un archivo para no tener que bajar los datos cada vez que corro esto.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/11/rammstein-vs-lacrimosa/">
                <h3 class="media-heading">Rammstein vs. Lacrimosa</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Hace un tiempo una conocida twiteó que había tenido que comprarse un libro entero para aprender los géneros gramaticales del alemán. Entre las repuestas, había una persona que contaba que de adolescente creyó (erróneamente) que podría aprender alemán sólo escuchando Rammstein. Habeindo estudiado unos drei Jahre de alemán al mismo tiempo que escuchaba Rammstein y otras bandas en alemán, las letras de Rammstein siempre me parecieron extremadamente simples.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/10/lo-que-aprend%C3%AD-en-latinr-2019/">
                <h3 class="media-heading">Lo que aprendí en LatinR 2019</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Oct 10, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Hace unas semanas volví de Santiago de Chile luego de ir a Latinr 2019. Igual que el año pasado, fue una experiencia divertida. Estas son algunas de las cosas que me llamaron la atención.
Workshops A la mañana del primer día asistí al workshop de Mine Çetinkaya-Rundel sobre enseñanza de R. Ejemplificó algunos principios básicos a la hora de diseñar clases. La idea de “dejales comer el pastel primero” creo que es la principal enseñanza.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="../../../2019/04/ecmwfr-calentamiento-global/">
                <h3 class="media-heading">Midiendo el calentamiento global con ecmwfr</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2019
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather">Para mi investigación necesitaba bajar datos meteorológicos grillados del ERA-Interim, que es una base de datos generada por el ECMWF. Bajar los datos en su sitio web es muy incómido y requiere muchos clicks. Por suerte, me encontré con el paquete ecmwfr con el que pude bajar los datos directamente desde R y muy fácilmente. Una de las cosas geniales del código abierto, es que los usuarios pueden ser colaboradores, así que sugerí algunas cosas y aporté un poco de código.</div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero="no se encontraron artículos"
         data-message-one="1 artículo encontrado"
         data-message-other="{n} artículos encontrados">
         25 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://github.com/eliocamp/codigo-r/raw/master/static/images/cover2.jpg');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js" integrity="sha256-XrZQp+ZMfovqr6Hb2M6okHvSEYaB/+Xbx7toWmOOZUM=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-light.min.css" integrity="sha256-KacbO6Nou2geGJEUzQeKzKEdp/DENVGJKAd2v37moh0=" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="../../../js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>



<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = '\/2023\/04\/trucos-knitr-rmarkdown\/';
          
            this.page.identifier = '\/2023\/04\/trucos-knitr-rmarkdown\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'codigo-r';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

